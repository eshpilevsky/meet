(this.webpackJsonpmeet=this.webpackJsonpmeet||[]).push([[8],{844:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var i=n(52),r=n(36),a=n(40),o=n(90),s=null;n.n(o)()()&&"function"===typeof window.require&&(s=window.require("electron"));var u=function(){function e(){Object(r.a)(this,e),this._stream=null}return Object(a.a)(e,[{key:"start",value:function(){var e=this;return Promise.resolve().then((function(){return s.desktopCapturer.getSources({types:["window","screen"]})})).then((function(e){var t,n=Object(i.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("Entire Screen"===r.name)return navigator.mediaDevices.getUserMedia({audio:!0,video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:r.id}}})}}catch(a){n.e(a)}finally{n.f()}})).then((function(t){return e._stream=t,t}))}},{key:"stop",value:function(){this._stream instanceof MediaStream!==!1&&(this._stream.getTracks().forEach((function(e){return e.stop()})),this._stream=null)}},{key:"isScreenShareAvailable",value:function(){return!0}}]),e}(),c=function(){function e(){Object(r.a)(this,e),this._stream=null}return Object(a.a)(e,[{key:"start",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this._toConstraints(t);return navigator.mediaDevices.getDisplayMedia(n).then((function(t){return e._stream=t,Promise.resolve(t)}))}},{key:"stop",value:function(){this._stream instanceof MediaStream!==!1&&(this._stream.getTracks().forEach((function(e){return e.stop()})),this._stream=null)}},{key:"isScreenShareAvailable",value:function(){return!0}},{key:"_toConstraints",value:function(e){var t={video:{},audio:!0};return isFinite(e.width)&&(t.video.width=e.width),isFinite(e.height)&&(t.video.height=e.height),isFinite(e.frameRate)&&(t.video.frameRate=e.frameRate),t}}]),e}(),h=function(){function e(){Object(r.a)(this,e),this._stream=null}return Object(a.a)(e,[{key:"start",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this._toConstraints(t);return navigator.mediaDevices.getUserMedia(n).then((function(t){return e._stream=t,Promise.resolve(t)}))}},{key:"stop",value:function(){this._stream instanceof MediaStream!==!1&&(this._stream.getTracks().forEach((function(e){return e.stop()})),this._stream=null)}},{key:"isScreenShareAvailable",value:function(){return!0}},{key:"_toConstraints",value:function(e){var t={video:{mediaSource:"window"},audio:!1};return"mediaSource"in e&&(t.video.mediaSource=e.mediaSource),isFinite(e.width)&&(t.video.width={min:e.width,max:e.width}),isFinite(e.height)&&(t.video.height={min:e.height,max:e.height}),isFinite(e.frameRate)&&(t.video.frameRate={min:e.frameRate,max:e.frameRate}),t}}]),e}(),f=function(){function e(){Object(r.a)(this,e)}return Object(a.a)(e,[{key:"isScreenShareAvailable",value:function(){return!1}}]),e}(),d=function(){function e(){Object(r.a)(this,e)}return Object(a.a)(e,null,[{key:"create",value:function(e){if(s)return new u;if("desktop"!==e.platform)return new f;switch(e.flag){case"firefox":return e.version<66?new h:new c;case"safari":return e.version>=13?new c:new f;case"chrome":case"chromium":case"opera":case"edge":return new c;default:return new f}}}]),e}()}}]);
//# sourceMappingURL=screensharing.37686323.chunk.js.map